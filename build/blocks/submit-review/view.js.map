{"version":3,"file":"blocks/submit-review/view.js","mappings":"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","sources":["webpack://high-pulp-blocks/./node_modules/react-dom/client.js","webpack://high-pulp-blocks/./src/blocks/submit-review/components/AddReviewForm.js","webpack://high-pulp-blocks/./src/blocks/submit-review/components/BlockApp.js","webpack://high-pulp-blocks/./src/blocks/submit-review/components/ReviewCard.js","webpack://high-pulp-blocks/./src/blocks/submit-review/components/ReviewList.js","webpack://high-pulp-blocks/./src/blocks/submit-review/components/ReviewPagination.js","webpack://high-pulp-blocks/./src/components/StarRating.js","webpack://high-pulp-blocks/./src/components/StarRating.scss?5bd2","webpack://high-pulp-blocks/external window [\"wp\",\"components\"]","webpack://high-pulp-blocks/external window \"React\"","webpack://high-pulp-blocks/external window \"ReactDOM\"","webpack://high-pulp-blocks/external window \"ReactJSXRuntime\"","webpack://high-pulp-blocks/webpack/bootstrap","webpack://high-pulp-blocks/webpack/runtime/compat get default export","webpack://high-pulp-blocks/webpack/runtime/define property getters","webpack://high-pulp-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://high-pulp-blocks/webpack/runtime/make namespace object","webpack://high-pulp-blocks/./src/blocks/submit-review/view.js"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import React, {useState} from \"react\";\nimport {\n\tTextControl,\n\t__experimentalNumberControl as NumberControl,\n\tTextareaControl, Button\n} from \"@wordpress/components\";\nimport StarRating from \"../../../components/StarRating\";\n\nexport default function AddReviewForm(props) {\n\tconst [title, setTitle] = useState('');\n\tconst [review, setReview] = useState('');\n\tconst [rating, setRating] = useState(0);\n\n\tfunction addReview(e) {\n\t\te.preventDefault();\n\n\t\tconst newReview = {\n\t\t\ttitle,\n\t\t\tcontent: review,\n\t\t\tacf: {\n\t\t\t\treview_rating: rating || 0,\n\t\t\t},\n\n\t\t\t// maybe you should validate better before doing this? set to draft instead?\n\t\t\tstatus: 'publish',\n\t\t}\n\n\t\t// we can't assume any props are provided\n\t\t// ?. only calls the method if it exists\n\t\tprops.addReview?.(newReview);\n\n\t\t// clear the form\n\t\tsetTitle('');\n\t\tsetRating(0);\n\t\tsetReview('');\n\t}\n\n\treturn (\n\t\t<form\n\t\t\tclassName=\"new-review-form\"\n\t\t\tonSubmit={e => addReview(e)}\n\t\t>\n\n\t\t\t<TextControl\n\t\t\t\tlabel=\"Title\"\n\t\t\t\tvalue={title}\n\t\t\t\tonChange={title => setTitle(title)}\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t/>\n\n\t\t\t<NumberControl\n\t\t\t\tlabel=\"Overall Rating\"\n\t\t\t\tvalue={rating}\n\t\t\t\tonChange={rating => setRating(rating)}\n\t\t\t\tmin={0}\n\t\t\t\tmax={5}\n\t\t\t\tstep={1}\n\t\t\t/>\n\t\t\t<StarRating rating={rating} setRating={setRating} />\n\n\t\t\t<TextareaControl\n\t\t\t\tlabel=\"Review\"\n\t\t\t\tvalue={review}\n\t\t\t\tonChange={review => setReview(review)}\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t/>\n\n\t\t\t<Button className=\"wp-element-button\" type=\"submit\">Add Review</Button>\n\t\t</form>\n\t);\n};\n","import React, {useEffect, useState} from \"react\";\nimport AddReviewForm from \"./AddReviewForm\";\nimport ReviewList from \"./ReviewList\";\nimport ReviewPagination from \"./ReviewPagination\";\n\nexport default function BlockApp() {\n\tconst [reviews, setReviews] = useState([]);\n\tconst [loggedIn, setLoggedIn] = useState(null);\n\tconst [pagination, setPagination] = useState({});\n\n\t// run once when app is loaded\n\tuseEffect(() => {\n\t\twp.api.loadPromise.done( function() {\n\t\t\tgetReviews();\n\t\t\tgetLoggedInUser();\n\t\t});\n\t}, []);\n\n\tfunction getReviews(page = 1) {\n\t\tconst reviewsCollection = new wp.api.collections.Review();\n\t\treviewsCollection\n\t\t\t.fetch({data: {per_page: 3, page: page }}) // returns a jqXHR (Yay! jQuery!)\n\t\t\t.done(data => {\n\t\t\t\tconsole.log(data, reviewsCollection.models);\n\t\t\t\t// store a COPY of the models in the app\n\t\t\t\tsetReviews([...reviewsCollection.models]);\n\t\t\t\tsetPagination({...reviewsCollection.state})\n\t\t\t});\n\t}\n\n\tfunction deleteReview(review){\n\t\treview.destroy() // backbone jqXHR\n\t\t\t.done(data => {\n\t\t\t\tgetReviews();\n\t\t\t});\n\t}\n\n\tfunction addReview(newReview) {\n\t\tconst post = new wp.api.models.Review(newReview);\n\t\tpost.save() // returns jqXHR\n\t\t\t.done(data => {\n\t\t\t\tgetReviews();\n\t\t\t})\n\n\t}\n\n\tfunction getLoggedInUser() {\n\t\tlet user = new wp.api.models.UsersMe();\n\t\tuser.fetch()\n\t\t\t.done(data => {\n\t\t\t\tconsole.log('user', data);\n\t\t\t\tsetLoggedIn(true);\n\t\t\t})\n\t\t\t.fail(() => {\n\t\t\t\tconsole.log('not logged in');\n\t\t\t\tsetLoggedIn(false);\n\t\t\t});\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h3>Latest Reviews</h3>\n\t\t\t<ReviewList reviews={reviews} deleteReview={deleteReview}/>\n\t\t\t<ReviewPagination currentPage={pagination.currentPage} totalPages={pagination.totalPages} setPage={getReviews} />\n\t\t\t<hr/>\n\t\t\t<h3>Submit a Review</h3>\n\t\t\t{loggedIn === true && <AddReviewForm addReview={newReview => addReview(newReview)} />}\n\t\t\t{loggedIn === false && <div className=\"error-msg\">You need to log in to submit a review</div>}\n\t\t</div>\n\t);\n}\n\n// languages/frameworks/tools used in this demo\n// wordpress, php, js, html, css, sass, react, JSX, backbone.js (with underscore.js), jquery, docker, git, npm, webpack, REST APIs, ajax, json\n// also: sql backend, custom post types, etc\n// with deployment: phpMyAdmin, WP CLI, FTP,\n","import React from \"react\";\nimport StarRating from \"../../../components/StarRating\";\n\nexport default function ReviewCard({link, title, rating, review, destroy}) {\n\tfunction deleteReview() {\n\t\tif(confirm('Are you sure you want to delete \"' + title + '\"?')) {\n\t\t\tdestroy();\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"review-card\">\n\t\t\t<div className=\"review-title\"><a href={link}>{title}</a></div>\n\t\t\t<div className=\"review-rating\">\n\t\t\t\t<StarRating rating={rating} readonly />\n\t\t\t</div>\n\t\t\t<div className=\"review-content\" dangerouslySetInnerHTML={{__html: review}}></div>\n\t\t\t<button className=\"delete-button\" onClick={deleteReview}>Delete</button>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport ReviewCard from \"./ReviewCard\";\n\nexport default function ReviewList({reviews, deleteReview}) {\n\treturn (\n\t\t<div className=\"review-list\">\n\t\t\t{reviews.map(review => (\n\t\t\t\t<ReviewCard\n\t\t\t\t\tlink={review.attributes.link}\n\t\t\t\t\ttitle={review.attributes.title.rendered}\n\t\t\t\t\trating={review.attributes.acf.review_rating}\n\t\t\t\t\treview={review.attributes.content.rendered}\n\t\t\t\t\tdestroy={() => deleteReview(review)}\n\t\t\t\t\tkey={review.attributes.id}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n","import React from \"react\";\n\nexport default function ReviewPagination({currentPage, totalPages, setPage}) {\n\n\tfunction previous(){\n\t\tif(currentPage > 1) {\n\t\t\tsetPage(currentPage - 1);\n\t\t}\n\t}\n\n\tfunction next(){\n\t\tif(currentPage < totalPages) {\n\t\t\tsetPage(currentPage + 1);\n\t\t}\n\t}\n\n\tfunction pageLinks(){\n\t\tconst pages = [];\n\t\tfor(let i = 1; i <= totalPages; i++){\n\t\t\tpages.push(\n\t\t\t\t<button className={\"wp-element-button\" + (i === currentPage ? ' active' : '')}\n\t\t\t\t\t\tonClick={() => setPage(i)}\n\t\t\t\t\t\tkey={i}\n\t\t\t>{i}</button>);\n\t\t}\n\t\treturn pages;\n\t}\n\n\treturn (\n\t\t<div className=\"pagination\">\n\t\t\t<button className=\"wp-element-button\"\n\t\t\t\t\tonClick={previous}\n\t\t\t\t\tdisabled={currentPage <= 1}\n\t\t\t>Prev</button>\n\n\t\t\t{pageLinks()}\n\n\t\t\t<button className=\"wp-element-button\"\n\t\t\t\t\tonClick={next}\n\t\t\t\t\tdisabled={currentPage >= totalPages}\n\t\t\t>Next</button>\n\t\t</div>\n\t);\n}\n","import React, {useState} from 'react';\nimport \"./StarRating.scss\";\n\nexport default function StarRating({rating, setRating, readonly}){\n\tconst [hover, setHover] = useState(rating || 0);\n\n\treturn <div className={'stars' + (readonly ? ' readonly' : '')}>\n\t\t{[1,2,3,4,5].map(star =>\n\t\t\t<span\n\t\t\t\tclassName={(star <= hover) ? 'star on' : 'star off'}\n\t\t\t\tkey={star}\n\t\t\t\tonMouseEnter={() => !readonly && setHover(star)}\n\t\t\t\tonMouseLeave={() => !readonly  && setHover(rating)}\n\t\t\t\tonClick={() =>  !readonly && setRating(star)}\n\t\t\t>★</span>\n\t\t)}\n\t</div>\n}\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { createRoot } from \"react-dom/client\";\nimport BlockApp from \"./components/BlockApp\";\n\nconst blocks = document.querySelectorAll('.wp-block-kn-submit-review');\nblocks.forEach(block => {\n\tcreateRoot(block).render(<BlockApp />);\n});\n"],"names":["React","useState","TextControl","__experimentalNumberControl","NumberControl","TextareaControl","Button","StarRating","jsx","_jsx","jsxs","_jsxs","AddReviewForm","props","title","setTitle","review","setReview","rating","setRating","addReview","e","preventDefault","newReview","content","acf","review_rating","status","className","onSubmit","children","label","value","onChange","__nextHasNoMarginBottom","min","max","step","type","useEffect","ReviewList","ReviewPagination","BlockApp","reviews","setReviews","loggedIn","setLoggedIn","pagination","setPagination","wp","api","loadPromise","done","getReviews","getLoggedInUser","page","reviewsCollection","collections","Review","fetch","data","per_page","console","log","models","state","deleteReview","destroy","post","save","user","UsersMe","fail","currentPage","totalPages","setPage","ReviewCard","link","confirm","href","readonly","dangerouslySetInnerHTML","__html","onClick","map","attributes","rendered","id","previous","next","pageLinks","pages","i","push","disabled","hover","setHover","star","onMouseEnter","onMouseLeave","createRoot","blocks","document","querySelectorAll","forEach","block","render"],"sourceRoot":""}